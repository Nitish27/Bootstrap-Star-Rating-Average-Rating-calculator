<!DOCTYPE html>
<html>
<head>
	<title>Average Calculator</title>
	<!-- Rating Style -->
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/star-rating.css">
</head>
<body>
	<div class="col-md-12 text-center">
		<div class="col-md-7">
			<h4 class="text-left">Your Ratings</h4>
			<ul class="list-unstyled">
				<li class="clearfix">
					<h5 class="pull-left">Field first</h5>
					<div class="pull-right">
						<input id="detail-rtng" value="0" type="number" class="cal-rating" min=0 max=5 step=0.5 data-size="xs" data-stars="5">
					</div>
				</li>
				<li class="clearfix">
					<h5 class="pull-left">Field Second</h5>
					<div class="pull-right">
						<input id="detail-rtng" value="0" type="number" class="cal-rating" min=0 max=5 step=0.5 data-size="xs" data-stars="5">
					</div>
				</li>
				<li class="clearfix">
					<h5 class="pull-left">Field Third</h5>
					<div class="pull-right">
						<input id="detail-rtng" value="0" type="number" class="cal-rating" min=0 max=5 step=0.5 data-size="xs" data-stars="5">
					</div>
				</li>
				<li class="clearfix">
					<h5 class="pull-left">Field fourth</h5>
					<div class="pull-right">
						<input id="detail-rtng" value="0" type="number" class="cal-rating" min=0 max=5 step=0.5 data-size="xs" data-stars="5">
					</div>
				</li>
				<li class="clearfix">
					<h5 class="pull-left">Field fifth</h5>
					<div class="pull-right">
						<input id="detail-rtng" value="0" type="number" class="cal-rating" min=0 max=5 step=0.5 data-size="xs" data-stars="5">
					</div>
				</li>
				<li class="clearfix">
					<h5 class="pull-left">Field Sixth</h5>
					<div class="pull-right">
						<input id="detail-rtng" value="0" type="number" class="cal-rating" min=0 max=5 step=0.5 data-size="xs" data-stars="5">
					</div>
				</li>
			</ul>
		</div>
		<div class="col-md-5 avg-ovral-rtng">
			<h4 class="text-center">Average Overall Rating</h4>
			<input id="avg-ovral-field" value="0" type="number" class="rating" min=0 max=5 step=0.5 data-size="xs" data-stars="5" data-show-clear="false" data-show-caption="false">
		</div>
	</div>
	<script src="js/jquery-min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/star-rating.js"></script>
	<script type="text/javascript">
	$(function(){
		$('.cal-rating').each(function() {
					
			$(this).on('change', function() {
				calcavg();
			})

		});

		function calcavg() {

					var total = 0;
					var avg = 0;
					
					$('.cal-rating').each(function() {
						if (!isNaN(this.value) && this.value.lenght !=0) {
							total +=parseFloat(this.value);
							// alert(total);
						}
					});

					if (!isNaN(total) && total !=0) {
						// var txtboxes = $('.cal-rating').length;
						var txtboxes = 6;
						Average = parseFloat(total) / 6;
					}

					$('#totalMarks').html(total);
		      		// Show Average upto 2 decimal places using .toFixed() method.
					var star = parseFloat(Average.toFixed(2)) * 20;
					$('.avg-ovral-rtng .rating-stars').css("width", star + "%");

				}


			$(".cal-rating, .rating").rating({
	        	showClear: false,
	        	showCaption: false
	        });
			// $("#avg-ovral-field").rating({
			// 	showCaption: false
			// });
	})
	</script>
</body>
</html>